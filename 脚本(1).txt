local LP = game:GetService("Players").LocalPlayer
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local ESP = loadstring(game:HttpGet("https://raw.githubusercontent.com/bailib/Roblox/refs/heads/main/main/ESP.lua"))()
ESP.AddFolder("HiderESPFolder")
ESP.AddFolder("HunterESPFolder")
ESP.AddFolder("GlassESPFolder")

local WindUISuccess, WindUI = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua"))()
end)

if not WindUISuccess then
    error("âŒ WindUIåŠ è½½å¤±è´¥: "..tostring(WindUI))
    return
end

-- é¢œè‰²æ¸å˜å‡½æ•°ï¼ˆå¢åŠ é”™è¯¯å¤„ç†ï¼‰
function gradient(text, startColor, endColor)
    if not text or #text == 0 then return "" end
    if not startColor or not endColor then
        warn("âš ï¸ é¢œè‰²å‚æ•°æ— æ•ˆï¼Œä½¿ç”¨é»˜è®¤é¢œè‰²")
        startColor = Color3.fromRGB(255,255,255)
        endColor = Color3.fromRGB(200,200,200)
    end

    local result = ""
    local length = #text

    for i = 1, length do
        local t = (i - 1) / math.max(length - 1, 1)
        local r = math.floor((startColor.R + (endColor.R - startColor.R) * t) * 255)
        local g = math.floor((startColor.G + (endColor.G - startColor.G) * t) * 255)
        local b = math.floor((startColor.B + (endColor.B - startColor.B) * t) * 255)

        local char = text:sub(i, i)
        result = result .. string.format('<font color="rgb(%d,%d,%d)">%s</font>', r, g, b, char)
    end

    return result
end

-- å®‰å…¨åˆ›å»ºå¼¹çª—
local Confirmed = false
local popupSuccess, popupResult = pcall(function()
    WindUI:Popup({
        Title = "æ¬¢è¿ä½¿ç”¨é»‘é¸¡å§è„šæœ¬",
        Icon = "rbxassetid://129260712070622",
        Content = "phkillNB "..gradient("WindUI", Color3.fromHex("#00FF87"), Color3.fromHex("#60EFFF")).." NB",
        Buttons = {
            {
                Title = "å–æ¶ˆ",
                Callback = function() end,
                Variant = "Secondary"
            },
            {
                Title = "ç»§ç»­",
                Icon = "arrow-right",
                Callback = function() Confirmed = true end,
                Variant = "Primary"
            }
        }
    })
end)

if not popupSuccess then
    warn("âš ï¸ å¼¹çª—åˆ›å»ºå¤±è´¥: "..tostring(popupResult))
    Confirmed = true -- å¼ºåˆ¶ç»§ç»­
end

repeat task.wait() until Confirmed

-- å®‰å…¨åˆ›å»ºä¸»çª—å£
local Window
local windowSuccess, windowResult = pcall(function()
    return WindUI:CreateWindow({
        Title = "æµ‹è¯•è„šæœ¬æ§åˆ¶å°",
        Icon = "rbxassetid://129260712070622",
        Author = "phkill",
        Folder = "ColdSilence",
        Size = UDim2.fromOffset(580, 460),
        Theme = "Dark",
        User = {
            Enabled = true,
            Callback = function() print("ç”¨æˆ·æŒ‰é’®ç‚¹å‡»") end,
            Anonymous = false
        },
        KeySystem = {
            Key = { "1054706873", "1054706873" },
            Note = "è¯·è¾“å…¥æœ‰æ•ˆå¯†é’¥\n\nå®˜æ–¹ç¾¤:1054706873 â€¦â€¦",
            SaveKey = false
        }
    })
end)

if not windowSuccess then
    error("âŒ çª—å£åˆ›å»ºå¤±è´¥: "..tostring(windowResult))
    return
else
    Window = windowResult
end

-- é¡¶éƒ¨æŒ‰é’®ï¼ˆå¢åŠ é”™è¯¯å¤„ç†ï¼‰
local function safeCreateButton(name, icon, callback, order)
    pcall(function()
        Window:CreateTopbarButton(name, icon, callback, order)
    end)
end

safeCreateButton("MyButton1", "bird", function() print("æŒ‰é’®1") end, 990)
safeCreateButton("MyButton2", "settings", function() Window:ToggleFullscreen() end, 989)

-- å†…å­˜ä¼˜åŒ–
task.defer(function()
    collectgarbage("")
    print("âœ… å†…å­˜ä¼˜åŒ–å®Œæˆ | å½“å‰ç”¨é‡:", math.floor((collectgarbage("count")/1024)).."MB")
end)

print("ğŸ‰ æµ‹è¯•è„šæœ¬åŠ è½½å®Œæˆ!")

local Tabs = {}

do
    Tabs.MainTab = Window:Section({Title ="kkk", Opened = true})
    Tabs.SpeedTab = Tabs.MainTab:Tab({ Title = "kkk", Icon = "zap" })
end

Tabs.SpeedTab:Button({
    Title = "jb",
    Desc = "jb",
    Callback = function()
loadstring(game:HttpGet("https://gist.githubusercontent.com/MelonsStuff/e7b408abcb813525d37e9b7a6bf301c9/raw/6421f9000e90e8a4c2ed57052208acbd6f9648dd/Minigun.txt"))()        
    end
})

Tabs.SpeedTab:Toggle({
    Title = "è¿è·³",
    Value = false,
    Callback = function(value)
       Jump = value
        game.UserInputService.JumpRequest:Connect(function()
            if Jump then
                game.Players.LocalPlayer.Character.Humanoid:ChangeState("Jumping")
            end
        end)
    end
})

Tabs.SpeedTab:Toggle({
    Title = "ç©¿å¢™",
    Value = false,
    Callback = function(value)
        WallTp = value
        if value then
            -- å¼€å¯ç©¿å¢™æ—¶ï¼Œç›‘å¬ç©å®¶ç§»åŠ¨
            game:GetService("RunService").Stepped:Connect(function()
                if WallTp and game.Players.LocalPlayer.Character then
                    local Character = game.Players.LocalPlayer.Character
                    local Humanoid = Character:FindFirstChildOfClass("Humanoid")
                    if Humanoid then
                        -- å–æ¶ˆç¢°æ’æ£€æµ‹ï¼ˆç©¿å¢™æ ¸å¿ƒï¼‰
                        for _, part in ipairs(Character:GetDescendants()) do
                            if part:IsA("BasePart") then
                                part.CanCollide = false
                            end
                        end
                    end
                end
            end)
        else
            -- å…³é—­ç©¿å¢™æ—¶ï¼Œæ¢å¤ç¢°æ’
            if game.Players.LocalPlayer.Character then
                for _, part in ipairs(game.Players.LocalPlayer.Character:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = true
                    end
                end
            end
        end
    end
})

Tabs.SpeedTab:Button({
    Title = "é£è¡Œ",
    Desc = "é£è¡Œ",
    Callback = function()
loadstring(game:HttpGet("https://lz.qaiu.top/d/lz/iUJIX32lm61g", true))()        
    end
})

local Tabs = {}

do
    Tabs.MainTab = Window:Section({Title = "èœå•è®¾ç½®", Opened = true})
    Tabs.WindowTab = Tabs.MainTab:Tab({ Title = "é€‰æ‹©ä¸»é¢˜", Icon = "zap" })
    Tabs.CreateThemeTab = Tabs.MainTab:Tab({ Title = "è‡ªåˆ¶ä¸»é¢˜", Icon = "zap" })
end

local themeValues = {}
for name, _ in pairs(WindUI:GetThemes()) do
    table.insert(themeValues, name)
end

local themeDropdown = Tabs.WindowTab:Dropdown({
    Title = "ä¸»é¢˜é€‰æ‹©",
    Multi = false,
    AllowNone = false,
    Value = nil,
    Values = themeValues,
    Callback = function(theme)
        WindUI:SetTheme(theme)
    end
})
themeDropdown:Select(WindUI:GetCurrentTheme())

local ToggleTransparency = Tabs.WindowTab:Toggle({
    Title = "é€æ˜åˆ‡æ¢",
    Callback = function(e)
        Window:ToggleTransparency(e)
    end,
    Value = WindUI:GetTransparency()
})

Tabs.WindowTab:Section({ Title = "ä¿å­˜" })

local fileNameInput = ""
Tabs.WindowTab:Input({
    Title = "é…ç½®åè¾“å…¥ä¸å¤„ç†",
    PlaceholderText = "Enter file name",
    Callback = function(text)
        fileNameInput = text
    end
})

Tabs.WindowTab:Button({
    Title = "ä¿å­˜é…ç½®",
    Callback = function()
        if fileNameInput ~= "" then
            SaveFile(fileNameInput, { Transparent = WindUI:GetTransparency(), Theme = WindUI:GetCurrentTheme() })
        end
    end
})

filesDropdown = Tabs.WindowTab:Dropdown({
    Title = "é€‰æ‹©é…ç½®",
    Multi = false,
    AllowNone = true,
    Values = files,
    Callback = function(selectedFile)
        fileNameInput = selectedFile
    end
})

Tabs.WindowTab:Button({
    Title = "åŠ è½½é…ç½®",
    Callback = function()
        if fileNameInput ~= "" then
            local data = LoadFile(fileNameInput)
            if data then
                WindUI:Notify({
                    Title = "File Loaded",
                    Content = "Loaded data: " .. HttpService:JSONEncode(data),
                    Duration = 5,
                })
                if data.Transparent then 
                    Window:ToggleTransparency(data.Transparent)
                    ToggleTransparency:SetValue(data.Transparent)
                end
                if data.Theme then WindUI:SetTheme(data.Theme) end
            end
        end
    end
})

Tabs.WindowTab:Button({
    Title = "è¦†ç›–é…ç½®",
    Callback = function()
        if fileNameInput ~= "" then
            SaveFile(fileNameInput, { Transparent = WindUI:GetTransparency(), Theme = WindUI:GetCurrentTheme() })
        end
    end
})

Tabs.WindowTab:Button({
    Title = "åˆ—è¡¨åˆ·æ–°",
    Callback = function()
        filesDropdown:Refresh(ListFiles())
    end
})

local currentThemeName = WindUI:GetCurrentTheme()
local themes = WindUI:GetThemes()

local ThemeAccent = themes[currentThemeName].Accent
local ThemeOutline = themes[currentThemeName].Outline
local ThemeText = themes[currentThemeName].Text
local ThemePlaceholderText = themes[currentThemeName].Placeholder

function updateTheme()
    WindUI:AddTheme({
        Name = currentThemeName,
        Accent = ThemeAccent,
        Outline = ThemeOutline,
        Text = ThemeText,
        Placeholder = ThemePlaceholderText
    })
    WindUI:SetTheme(currentThemeName)
end

local CreateInput = Tabs.CreateThemeTab:Input({
    Title = "ä¸»é¢˜åå­—",
    Value = currentThemeName,
    Callback = function(name)
        currentThemeName = name
    end
})

Tabs.CreateThemeTab:Colorpicker({
    Title = "èƒŒæ™¯è‰²é…ç½®",
    Default = Color3.fromHex(ThemeAccent),
    Callback = function(color)
        ThemeAccent = color:ToHex()
    end
})

Tabs.CreateThemeTab:Colorpicker({
    Title = "è½®å»“é¢œè‰²é€‰æ‹©",
    Default = Color3.fromHex(ThemeOutline),
    Callback = function(color)
        ThemeOutline = color:ToHex()
    end
})

Tabs.CreateThemeTab:Colorpicker({
    Title = "æ–‡æœ¬é¢œè‰²é€‰æ‹©",
    Default = Color3.fromHex(ThemeText),
    Callback = function(color)
        ThemeText = color:ToHex()
    end
})

Tabs.CreateThemeTab:Colorpicker({
    Title = "æ–‡æœ¬é¢œè‰²é…ç½®",
    Default = Color3.fromHex(ThemePlaceholderText),
    Callback = function(color)
        ThemePlaceholderText = color:ToHex()
    end
})

Tabs.CreateThemeTab:Button({
    Title = "ä¸»é¢˜æ›´æ–°",
    Callback = function()
        updateTheme()
    end
})





